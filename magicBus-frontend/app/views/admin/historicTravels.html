<div class="text-center">
	<h1>{{'historic_travels' | translate}}</h1>
</div>
<div class="divider"></div>
<div class="divider"></div>
<input id="inputfilter" type="text" placeholder="Search for names.."></input>
<table class="table-responsive" id="myTable">
  <tr>
    <td ng-click="sortTable(0)" style="color: #009688"><b>{{'destination' | translate}}<i class="material-icons right">arrow_drop_down</i></b></td>
    <td ng-click="sortTable(1)" style="color: #009688"><b>{{'address' | translate}}<i class="material-icons right">arrow_drop_down</i></b></td>
    <td ng-click="sortTable(2)" style="color: #009688"><b>{{'date' | translate}}<i class="material-icons right">arrow_drop_down</i></b></td>
    <td ng-click="sortTable(3)" style="color: #009688"><b>{{'scheduler' | translate}}<i class="material-icons right">arrow_drop_down</i></b></td>
    <td ng-click="sortTable(4)" style="color: #009688"><b>{{'driver' | translate}}<i class="material-icons right">arrow_drop_down</i></b></td>
    <td></td>
  </tr>
  <tr ng-repeat="travel in historicTravels">
    <td>{{travel.destination}}</td>
    <td>{{travel.address}}</td>
    <td>{{travel.date.dayOfMonth}}/{{travel.date.monthOfYear}}/{{travel.date.year}}</td>
    <td>{{travel.scheduler.hourOfDay}}:{{travel.scheduler.minuteOfHour}}</td>
    <td>{{travel.driver.surname}}, {{travel.driver.name}}</td>
    <td>
    	<button style="background-color: #009688;color: white" ng-click="details(travel.id)" class="btn waves-effect waves-light" type="submit" name="action">{{'details' | translate}}
    </td>
  </tr>
</table>

<script type="text/javascript">
	$(document).ready(function(){
		$("#inputfilter").keyup(function(){
			filter = new RegExp($(this).val(),'i');
			$("#myTable").filter(function(){
				$(this).each(function(){
					found = false;
					$(this).children().each(function(){
						content = $(this).html();
						if(content.match(filter))
						{
							found = true
						}
					});
					if(!found)
					{
						$(this).hide();
					}
					else
					{
						$(this).show();
					}
				});
			});
		});
	});
</script>